## Sampling fraction accross Stata 
$$
f_h = n_h/N_h
$$

```{r}
## Proportionate allocation n_opt and 
n_opt <- 86.95652 

# Given data from week 5
regions <- c(1:9)
total_students <- c(2893, 5474, 8044, 4855, 14692, 31140, 177421, 178447, 374755)
num_schools <- c(16, 30, 30, 31, 69, 123, 598, 517, 923)
proportions <- c(0.0035, 0.0066, 0.0097, 0.0058, 0.0177, 0.0375, 0.2137, 0.2150, 0.4514)

# Compute allocated clusters
allocated_clusters <- (n_opt * proportions)

# Compute first-stage sampling fractions
sampling_fraction <- allocated_clusters / num_schools

# Output results using cat
for (i in 1:length(regions)) {
  cat("Region", regions[i], "allocated clusters:", allocated_clusters[i], "\n")
  cat("Region", regions[i], "first-stage sampling fraction:", round(sampling_fraction[i], 4), "\n")
  cat("\n")
}
```
